{"pages":[{"text":"关于我 男，91年生，一直在计算机海洋中游泳，想把计算机这个大海中的水喝光 关于AiPacino,rpoor和佐罗家的五花肉 博客名: 佐罗家的五花肉 = zorro + 我的身材(减肥ing.....) 博主名: AiPacino = god father + 年轻时的荷尔蒙冲动 + 。。。。 博文原则 博客内容以原创为主，翻译和转载为辅； 原创内容若有参考他人文章，在文末给出参考文章链接； 翻译文章在文章开头给出原文链接； 对于转载的文章，尊重作者版权，遵守转载协议，文章内容重新排版，并简要评论或修改； 版权问题 本博客首发的原创作品，采用\" 创作共用BY- NC - SA 4.0 国际许可证 \"授权。所有人可以\"复制、发行、展览、表演、放映、广播或通过信息网络传播本作品，创作演绎作品\"，但必须提到原作者、不得用于盈利性目的、若修改原作品，必须使用相同的许可证发布。 对使用者的建议如下： 不转载全文，避免网络文章重复，可采用网摘、引用或链接的方式； 若要转载，请留言说明，并在文末注明出处； 联系方式 学术讨论请通过邮件联系。 电子邮箱: foryoukwai@foxmail.com","loc":"http://rpoor.com/about.html","title":"About","tags":"其他"},{"text":"本页面收集了本博客中常更新的博文或系列性博文。 地球物理学书籍 地球物理牛人主页 地球物理相关软件 SAC参考手册 全球地形起伏数据总结 Python相关资源 个人偏好列表 Hi-net系列博文 用CentOS 7打造合适的科研环境","loc":"http://rpoor.com/collections.html","title":"Collections","tags":"其他"},{"text":"如果您觉得本博客的原创博文或《 SAC参考手册 》对您有用，您可以考虑通过捐赠来支持本博客。 免责声明 SeisMan博客致力于知识和技术分享，不以盈利为目的，是个人维护的独立博客； 本人无法对本博客的更新和维护周期做任何承诺； 捐赠者的捐赠行为完全自愿，本人与各捐赠者之间不构成购买或雇佣关系； 收到的捐赠款项由本人完全支配，本人没有义务对款项的用途做解释； 除非特别注明，本人会在该页面列出捐赠者的姓名、捐赠日期以及捐赠金额，并承诺不向任何组织或个人透漏其他身份信息； 捐赠方式 目前支持四种捐赠方式： 精神鼓励 欢迎在本博客的相关博文或本页面下留言，也可直接邮件联系博主，以表支持。这些都将是我继续维护和更新的动力。 支付宝捐赠 精神鼓励很重要，物质上的支持算是额外的bonus。可以通过\"支付宝\"进行捐赠。对于无独立经济来源的学生而言，不推荐进行大额捐赠。 最低限额为￥5 RMB 。 20150204：因为有时候会收到1到3元的淘宝返现，为了不将捐赠与返现混淆，故将捐赠最低额度由1元提升至5元。低于5元的捐赠都将被视为淘宝返现。 手机端：打开\"支付宝钱包\"客户端，扫二维码； 电脑端：点击二维码图片，进入\"支付宝转账\"页面，收款人已自动填写；（ PS ：支付宝电脑端转账需收取0.1%的手续费） PayPal捐赠 由于PayPal在中国的政策问题，本站使用的PayPal捐赠实质上是PayPal购买。点击捐赠按钮，手动输入\"物品价格\"，并\"更新\"，即可捐赠。 对于每一笔捐赠，PayPal会收取\"卖家\"（即我）\"4.4% + $0.3 USD \"的手续费，因而捐赠最低限额为$5 USD 。 银行卡捐赠 如需通过银行卡捐赠，请邮件联系以获得银行卡号信息。 捐赠名单 本博客自开通捐赠以来收到的捐赠款项在下表列出。若您不希望列出自己的姓名，请在捐赠时说明或在捐赠后邮件联系。 日期 姓名 金额 2015-02-22 沙海龙 ￥20 RMB 2015-02-04 杨凯 ￥1 RMB 2015-01-28 柯乃琛 ￥10 RMB 2015-01-27 邓阳凡 ￥100 RMB 2015-01-26 董兴朋 ￥100 RMB 2014-12-17 魏芝 ￥25 RMB 2014-12-15 MAG ￥20 RMB 2014-11-18 徐宗博 ￥10 RMB 2014-11-15 陈飞 ￥7 RMB 2014-11-14 胡景 ￥100 RMB 2014-11-12 颜文华 ￥6 RMB 2014-11-10 Mars ￥20 RMB 2014-11-02 罗松 ￥8 RMB 2014-10-24 赵韬 ￥500 RMB 2014-10-11 陈健 ￥100 RMB 2014-10-04 刘吉平 ￥200 RMB 2014-09-28 张金玉 ￥3 RMB 2014-09-11 刘** ￥200 RMB 2014-09-02 陈* ￥200 RMB 2014-08-10 刘** ￥101 RMB 2014-07-25 陈传绪 ￥66 RMB 2014-07-20 李正波 ￥1 RMB 2014-07-10 马庆珍 ￥10 RMB 2014-06-02 赵文舟 ￥100 RMB 2014-05-27 沈超 ￥5 RMB 2014-05-08 赵文舟 ￥30 RMB 2014-05-08 吴树成 ￥30 RMB 2014-05-03 黄乐乐 ￥10 RMB 2014-05-03 董兴朋 ￥100 RMB 2014-04-30 huichen ￥500 RMB","loc":"http://rpoor.com/donations.html","title":"Donations","tags":"其他"},{"text":"fuck Incorporated Research Institutions for Seismology NIED Hi-net NIED F-net American Geophysical Union International Seismological Centre Journals Nature PNAS GJI BSSA SRL Geophysics Reviews of Geophysics EOS Transactions Geochemistry, Geophysics, Geosystems GRL JGR : Solid Earth Tectonics Chinese Journal of Geophysics EPSL Groups Harvard Seismology Waveform Data IRIS Wilber 3 NIED Hi-net NIED F-net waveform Event and Mechanism Catalog PDE ANSS Comprehensive Catalog Global CMT ISC Bulletin NIED Earthquake Mechanism Search University University of Science and Technology of China Software Generic Mapping Tools Seismic Analysis Code The TauP Toolkit Software Library IRIS seiscode ORFEUS Seismological Software Library Others IRIS Data Request Status IASPEI standard phase list","loc":"http://rpoor.com/links.html","title":"Links","tags":"其他"},{"text":"Institution Incorporated Research Institutions for Seismology NIED Hi-net NIED F-net American Geophysical Union International Seismological Centre Journals Nature PNAS GJI BSSA SRL Geophysics Reviews of Geophysics EOS Transactions Geochemistry, Geophysics, Geosystems GRL JGR : Solid Earth Tectonics Chinese Journal of Geophysics EPSL Groups Harvard Seismology Waveform Data IRIS Wilber 3 NIED Hi-net NIED F-net waveform Event and Mechanism Catalog PDE ANSS Comprehensive Catalog Global CMT ISC Bulletin NIED Earthquake Mechanism Search University University of Science and Technology of China Software Generic Mapping Tools Seismic Analysis Code The TauP Toolkit Software Library IRIS seiscode ORFEUS Seismological Software Library Others IRIS Data Request Status IASPEI standard phase list","loc":"http://rpoor.com/linkss.html","title":"Linkss","tags":"其他"},{"text":"简介 CentOS是目前最流行的操作系统之一，不过\"五花肉\"不太喜欢他的字体。那么，怎样往CentOS中添加自己喜爱的字体呢？ 找到自己喜欢的字体 从网上找到自己喜欢的字体，最好是\"otf\"格式的字体. 复制字体到fonts文件夹 将要的字体复制到/usr/share/fonts/目录下,推荐新建一个文件夹来区分字体. 例如你下载了雅黑的字体就新建一个文件夹yahei /usr/share/fonts/yahei/雅黑.otf 最后应该像上面这种样式. 进入yahei文件夹 进入文件夹之后，执行下面的指令操作。 1 2 3 $ mkfontscale $ mkfontdir $ fc -cache -fv 重新启动电脑 在命令行中输入\"reboot\"，大功告成，\"五花肉\"终于可以快乐的使用centos了.","loc":"http://rpoor.com/centos-fonts.html","title":"centos安装字体","tags":"centos使用技巧"},{"text":"[core] repositoryformatversion = 0 filemode = true bare = false logallrefupdates = true [remote \"github\"] url = git@github.com :AiPacino/aipacino.github.com.git fetch = +refs/heads/ :refs/remotes/github/ [remote \"gitcafe\"] url = git@gitcafe.com :AiPacino/AiPacino.git fetch = +refs/heads/ :refs/remotes/gitcafe/ [branch \"master\"] remote = origin merge = refs/heads/master [alias] publish = !sh -c \"git push github master && git push gitcafe master:gitcafe-pages\"","loc":"http://rpoor.com/push-branch-github-gitcafe.html","title":"推送分支到gitcafe和github","tags":"Git使用技巧"},{"text":"简介 Global CMT全称Global Centroid-Moment-Tensor Project，前身是Harvard CMT ，是地震学常用的地震目录和震源机制之一。其给出了自1976年以来上万个地震的地震目录以及震源机制。 主页 http://www.globalcmt.org/ Catalog在线查询 http://www.globalcmt.org/CMTsearch.html 可以指定时间段、震级范围、震中范围、深度范围，也可以对震源时间函数以及T轴和N轴进行限制。并支持多种输出格式，其中的 GMT psmeca input 格式可以直接用于GMT绘图。 Catalog直接下载 http://www.globalcmt.org/CMTfiles.html 很多时候我们需要根据其他条件对catalog进行筛选，得到符合自定义条件的地震事件，所以ASCII格式的目录文件就很重要了。GCMT提供了1976年到现在的地震目录，其中1976-2004年的地震目录为dek格式，包含在一个文件中。2005年以后的地震目录为ndk格式，每月一个文件。对于2005年以后的地震目录可以将一年的目录合并到一个文件中，方便管理且不会导致文件过大。 1976-2004目录下载： http://www.ldeo.columbia.edu/~gcmt/projects/ CMT /catalog/jan76_dec04.dek 2005以后目录下载： http://www.ldeo.columbia.edu/~gcmt/projects/ CMT /catalog/NEW_MONTHLY/ ndk格式说明： http://www.ldeo.columbia.edu/~gcmt/projects/ CMT /catalog/allorder.ndk_explained dek格式说明： http://www.ldeo.columbia.edu/~gcmt/projects/ CMT /catalog/allorder.dek_explained 关于GCMT的文章 1981： http://www.agu.org/pubs/crossref/1981/JB086iB04p02825.shtml 1983： http://www.agu.org/pubs/crossref/1983/JB088iB04p03247.shtml 2012： http://www.sciencedirect.com/science/article/pii/S0031920112000696 备注 GCMT中给出的地震矩单位是dyne-cm，而不是国际单位制的N-m。 GCMT目录的ASCII文件中震级采用mb和/或MS，为什么不用矩震级？使用面波和体波震级的最大问题是震级饱和，导致震级基本不会超过8级。","loc":"http://rpoor.com/global-cmt.html","title":"Global CMT信息整理","tags":"地球物理相关资源"},{"text":"由于某个变态网站，需要Java插件才能使用，所以需要在Firefox上安装Java插件。在Oracle的网站上搜到解决办法，原文在 这里 ，排版难看的要死，故而重新排版。 我的计算机环境如下： 操作系统：CentOS 6.4 Final Firefox版本：17.0.7 Java版本：OpenJDK 1.7.0 安装步骤如下： 退出Firefox； 卸载原来安装的Java插件（没装过就不卸了）； 找到Java自带的浏览器插件的位置； $ locate libnpjp2 /usr/java/jre1.7.0_21/lib/amd64/libnpjp2.so /usr/local/cuda-5.0/jre/lib/amd64/libnpjp2.so 在firefox插件目录中建立到Java插件文件的软链接； $ cd ~/.mozilla/plugins/ $ ln -s /usr/java/jre1.7.0_21/lib/amd64/libnpjp2.so libnpjp2.so 启动firefox，在地址栏输入 about:plugins ，查看插件是否正常加载； 搞定收工。","loc":"http://rpoor.com/java-plugin-of-firefox.html","title":"Firefox安装Java插件","tags":"Linux"},{"text":"说明 推荐使用plenv作为Perl版本管理工具，不再推荐PerlBrew。plenv相比于PerlBrew更加简单也更有优势。关于plenv的介绍，参考博文《 Perl多版本共存之plenv 》。 缘由 目前在使用的Linux发行版是CentOS 6.4，自带的Perl版本为5.10.1，这一版本是2009年发行的，平时随便写点脚本还行，想用点高级的模块实现点高级功能的时候就开始掉链子了。不是这个模块找不到，就是那个模块依赖性搞不定，于是就有了安装新版Perl的想法。Google了一下，有人建议系统自带的Perl还是不要升级比较好，因为各种杂七杂八的东西都依赖于Perl，Perl的升级比glibc的升级还麻烦。试敲了一下 yum remove perl ，哗哗地列出了一堆东西，这些都是因为Perl被删除依赖性无法满足而无法使用的包。想到当初升级glibc导致系统崩溃的惨痛回忆，还是决定不动系统的Perl比较好。于是开始寻找Perl如何实现多版本共存。 Perlbrew Perlbrew模块的作者是台湾人 劉康民 。该模块是以Ruby的RVM概念出发，也就是使用者可以使用Perlbrew將不同版本的Perl安裝在$HOME路径内，并且使用Perlbrew来切换不同版本的Perl。目前Perlbrew的最新版是0.64。（CentOS中epel库的版本是0.28。） Perlbrew的几个优点： 不需要使用sudo来安裝CPAN模块 可以使用每个月不断释出的新的Perl 可尝试新的程式语言功能 可以不再被Vendor Perl限制(平台內建的Perl) 可在不同版本的Perl下测试模块 可整合至bash,zsh,csh环境变量 安装Perlbrew 按照默认的安装方法，会将Perlbrew以及新版本Perl安装在 ~/perl5 下。Home是我家，干净整洁很重要，还是换了地方吧。 先声明环境变量 PERLBREW_ROOT ，然后切换到root（使用sudo是没用的），然后下载安装 1 2 3 $ export PERLBREW_ROOT = /usr/local/perl5 # 这句直接敲入终端 $ su # 切换root $ wget -O - http://install.perlbrew.pl | bash # 安装 向.bashrc中加入语句： 1 2 3 # Perlbrew export PERLBREW_ROOT = /usr/local/perl5 source /usr/local/perl5/etc/bashrc 重新开一个终端使得环境变量生效。由于安装到了/usr/local/下，后面的操作都需要root权限才能完成。 寻找合适的源 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 $ perlbrew init $ perlbrew mirror Fetching mirror list [ 1 ] Africa, South Africa, Cape Town ( mirror.ac.za ) [ 2 ] Africa, South Africa, Cape Town ( wa.co.za ) [ 3 ] Africa, South Africa, Gauteng, Johannesburg ( is.co.za ) [ 4 ] Africa, South Africa, Western Cape, Parow ( saix.net ) [ 5 ] Africa, Tunisia, Tunis ( cpan.mirror.tn ) [ 6 ] Africa, Uganda, Mukono ( ucu.ac.ug ) [ 7 ] Asia, China, AnHui, Hefei ( ustc.edu.cn ) [ 8 ] Asia, China, Beijing ( sohu.com ) [ 9 ] Asia, China, Chaoyang, BeiJing ( idc.btte.net ) [ 10 ] Asia, China, Fujian, Xiamen ( xmu.edu.cn ) [ 11 ] Asia, China, Hong Kong SAR, Hong Kong ( communilink.net ) [ 12 ] Asia, China, Hong Kong SAR, Hong Kong ( cuhk.edu.hk ) [ 13 ] Asia, China, Hong Kong SAR, Hong Kong ( devlib.org ) [ 14 ] Asia, China, Hubei, Wuhan ( hust.edu.cn ) [ 15 ] Asia, China, Liaoning, Dalian ( neusoft.edu.cn ) [ 16 ] Asia, India, Maharashtra, Mumbai ( indialinks.com ) [ 17 ] Asia, Indonesia, Depok ( kambing.ui.ac.id ) [ 18 ] Asia, Indonesia, East Java, Surabaya ( sby.datautama.net.id ) [ 19 ] Asia, Indonesia, Jakarta ( mwn-tlkm.archive.or.id ) [ 20 ] Asia, Indonesia, Jakarta ( pesat.net.id ) Select a mirror by number or press enter to see the rest ( 248 more ) [ q to quit, m for manual entry ] 7 Selected Asia, China, AnHui, Hefei ( ustc.edu.cn )( http://mirrors.ustc.edu.cn/CPAN/ ) as the mirror 查看可用的Perl版本 1 2 3 4 5 6 7 8 9 10 11 $ perlbrew available perl-5.18.1 perl-5.16.3 perl-5.14.4 perl-5.12.5 perl-5.10.1 perl-5.8.9 perl-5.6.2 perl5.005_04 perl5.004_05 perl5.003_07 安装Perl 5.18.1 1 2 3 4 5 6 7 8 $ perlbrew install perl-5.18.1 --thread --multi --64int --64all Fetching perl 5.18.1 as /usr/local/perl5/dists/perl-5.18.1.tar.bz2 Download http://www.cpan.org/src/5.0/perl-5.18.1.tar.bz2 to /usr/local/perl5/dists/perl-5.18.1.tar.bz2 Installing /usr/local/perl5/build/perl-5.18.1 into /usr/local/perl5/perls/perl-5.18.1 This could take a while . You can run the following command on another shell to track the status: tail -f /usr/local/perl5/build.perl-5.18.1.log 加入—thread等选项是为了使perl支持并行等特性，perlbrew提供了6种编译选项，根据系统的编译选项选择了如上4种。 某个版本的perlbrew会一直处于Fetching的阶段，无法下载所需版本的perl，目前在perlbrew的新版本中已经解决。 如果觉得perlbrew下载perl包的速度太慢，可以自己用其他方式下载相应的tar.bz2包，比如perl-5.18.1.tar.bz2，然后复制到/usr/local/perl5/dists/再尝试安装。 下面开始就没动静了，不过这个时候真的是在安装，不信的话可以看看build.perl-5.18.1.log，里面的内容一行一行往外冒啊。耐心的等待吧。 使用新版本 1 2 3 4 5 6 7 8 9 10 11 12 $ perlbrew switch perl-5.18.1 $ perl -v This is perl 5, version 18, subversion 1 ( v5.18.1 ) built for x86_64-linux Copyright 1987-2013, Larry Wall Perl may be copied only under the terms of either the Artistic License or the GNU General Public License, which may be found in the Perl 5 source kit. Complete documentation for Perl, including FAQ lists, should be found on this system using \"man perl\" or \"perldoc perl\" . If you have access to the Internet, point your browser at http://www.perl.org/, the Perl Home Page. 也可以仅在当前shell中使用新版perl: 1 perlbrew use perl-5.18.1 还可以回到系统自带的perl： 1 perlbrew switch-off 安装cpanm 安装好的新Perl在使用模块时依然是到系统默认的路径中去寻找的，这点可以通过 perl -V 显示的@INC看出来。可以通过安装cpanm来实现将模块安装到新目录中，并在新目录中寻找。 1 perlbrew install-cpanm 重新开一个终端，再看 perl -V 的@INC已经不一样了。cpanm可以代替系统perl的cpan安装各种最新模块，默认安装在perlbrew的那个目录下，在没有权限的情况下会安装到HOME下。也可以通过local::lib模块指定安装路径，我觉得没必要。 参考 Perlbrew主页： http://perlbrew.pl/ Perlbrew中文简介： http://perlbrew.pl/Perlbrew-中文簡介.html 定制自己的多版本Perl环境： http://www.php-oa.com/2011/02/25/perl-appperlbrew.html CPAN文档： https://metacpan.org/module/App::perlbrew 命令文档：perlbrew help 修订历史 2013-07-09：初稿； 2013-08-17：perlbrew更新了，修正了其中下载过程中的一个bug；","loc":"http://rpoor.com/perlbrew-for-multiple-versions-of-perl.html","title":"Perl多版本共存之Perlbrew","tags":"编程"},{"text":"3.2 dev版 此文档使用Git进行版本控制，我会不定期更新或修正文档内容，读者可以下载已定稿的3.1版或正在修订中的3.2-dev版。待更新积累到一定程度的时候，我会正式发布3.2版。 下载地址： 3.2-dev版 2014-09-25 3.1版 重新整理了大部分命令的语法说明； 对\"SAC图像\"一章进行了修订； 新增\"信号迭加子程序\"一章； 新增\"谱估计子程序\"一章； 新增\"在Python中调用SAC\"一节； Bug修订； 下载地址: SAC参考手册v3.1.pdf 2014-04-18 3.0版 重新设计了整个文档的结构 重写了教程部分的大多数内容 教程部分根据SAC v101.6a进行修正 Bug修订 下载地址: SAC参考手册v3.0.pdf 2014-02-22 2.3版 使用Git管理源码 整理结构和布局的修改 新的小节: \" SAC IO升级版\"、\"暂存块变量的读写\"、\"SAC保存图像\" Bug修订 下载地址: SAC帮助文档中文版v2.3.pdf 2013-04-12 2.2版 命令已经整理完毕，排版上基本已经没有问题了，重新设计了封面，在接下来很长一段时间应该都不会有大的改动了。如果有时间，会加一些SAC其他方面的东西。如果有读者反馈，命令方面也可能会有更新。 下载地址： SAC帮助文档中文版v2.2.pdf 2013-04-06 2.1版 重新细致整理了手册的第一章，基本达到了我认为可以打印的地步。命令部分还没有整，200多个，需要很长一段时间才能出来。 下载地址： SAC帮助文档中文版v2.1.pdf 2013-03-29 2.0版 花了两天的时间重新制作了整个文档，内容及排版部分有很多bug，草草结束是因为接下来的一段时间要好好干活了，先把v2.0的细节总结如下： 操作系统：CentOS 6.4 (Final) 编译环境：TeX Live 2012 编译命令：xeLaTeX 中文实现：CTEX宏包 中文字体：宋体+黑体 英文主字体：Liberation Sans 代码字体：Courier 10 Pitch 下载地址： SAC帮助文档中文版v2.0.pdf 2012-09-18 1.2版 增加了封面配图。 下载地址： SAC帮助文档中文版v1.2.pdf 2012-09-03 1.1版 重新格式化整个文档，使得其看上去更规范，也易于以后的修改； 文档中的所有C或Fortran代码从notepad++中直接导出，代码支持语法高亮； 代码及正文英文字体采用Consolas字体。 增加了\"在脚本中调用SAC\"一节； 新增了transfer、traveltime、saveimg、datagen命令（依赖于SAC v101.5c）； 公式用公式编辑器编辑 下载地址： SAC帮助文档中文版v1.1.pdf 2012-01-08 1.0版 自学SAC是在2010年的寒假，看的是1995年出版的《数字地震波形分析》的电子版以及SAC自带的英文文档。《数字地震波形分析》大概是当时唯一一本介绍SAC的中文书，电子版很不清晰而且有些命令已经过时了。我一直希望能有一个新版本出现。 这个SAC中文手册最初翻译于2011年暑假，用了20天左右的时间，完成了大部分的翻译工作。这个版本主要参考了《数字地震波形分析》一书。包含了大部分的用户指南以及几乎全部的命令。这个版本的优点在于： 结合了SAC101.4版本，增加、删除和修改了一些命令； 更清晰； 增加了书签，方便定位，支持全文搜索。 这个版本的缺点在于： 与matlab引擎相关的几个命令未加入； SAC的两个子程序部分暂时还没有翻译； 由于没有时间和心思检查，中间可能会出现一些错误； 关于命令的简写还有一些细节没有做； 在某些linux版本下，pdf打开后看到的是完全颠倒的字（比如悲摧的CentOS…）希望这些可以在以后的版本中得到改善和加强。 下载地址： SAC帮助文档中文版v1.0.pdf","loc":"http://rpoor.com/sac-manual.html","title":"SAC参考手册中文版","tags":"SAC"},{"text":"-K 和 -O 是GMT的两个标准选项，其用法很简单，一张图和一段文字就可以明白一切。但是同时 -K 和 -O 选项却是日常GMT绘图中最常出错的地方，很多时候这样的错误很让人摸不着头脑。这里首先简单介绍 -K 和 -O 选项，然后试着去探究一下 -K 和 -O 选项在代码中代表什么，在下一篇博文中给出使用-K和-O选项的一个技巧。 如GMT Technical Reference and Cookbook中第4.4.6节所说，任意一个完整的PS文件都必须包含头段（初始化），正文（绘图部分），尾巴（输出图像）。 GMT的每个绘图命令默认都会同时输出头段、正文以及尾巴。如左图所示，如果一张图只需要一个命令就可以画出来，那么就不需要-K和-O选项。如中图所示，如果一张图由两个命令绘制出来，第一个命令需要省略尾巴部分（使用-K），第二个命令需要省略头段部分（使用-O）。更常见的情况如右图所示，一张图由多个命令组成，第一个命令省略尾巴（-K），中间命令省略头段和尾巴（-K -O），最后一个命令省略头段（-O）。另外一个需要注意的地方是重定向符号，第一个命令使用\">\"，后面所有的命令使用\">>\"。 研究一下生成的PS文件就可以发现： 使用 -K 选项，省略的尾巴部分内容为: %%PageTrailer -295.276 -295.276 T 4.16667 4.16667 scale -90 R -595 0 T 0 A showpage %%Trailer end %%EOF 使用 -O 选项，省略的头部部分内容如下： BoundingBox以及HiResBoundingBox 创建时间 landscape还是portrait 总页码 ISOLatin1+支持的特殊符号 所有GMT可用的字体 页面设置 修订历史 2013-07-06：初稿； 2014-07-06：删除了一些细节的描述；","loc":"http://rpoor.com/gmt-option-ko.html","title":"GMT进阶之深入理解-K和-O选项","tags":"GMT"},{"text":"给定震中经纬度以及球面上任意一点（一般是台站）的经纬度，计算震中距、方位角以及反方位角。这是地震学的一个基本问题。 名词解释 震中距： 地面 上任意一点到 震中 的球面距离； 方位角：震中到台站的连线与地理北向的夹角； 反方位角：台站到震中的连线与地理北向的夹角； 一张图可以说明一切: 图1：震中距、方位角(az)、反方位角(baz)示意图 数学推导 公式的推导需要简单的球面三角函数的知识。具体的推导可以参考Robert B. Herrmann的作业题。 网址如下： http://www.eas.slu.edu/People/RBHerrmann/Courses/ EASA462 作业题中的Ass06、Ass07、Ass08给出了计算震中距和方位角的原理。 相关代码 广为流传的一个程序是 distaz 。在GMT、SAC等的源码里都可以找到。 distaz 代码很短，简单易懂，其采用的地球模型为椭球模型，精度上可以满足需求。 C、Fortran、Java、Python以及CGI版本： 由The lithospheric seismology program at USC整理 Matlab版本： 由specfem3d_globe提供 使用方法 仅以C语言版本的 distaz 为例，用如下命令即可编译: cc distaz.c -o cdistaz -lm 其输入为 sta_lat sta_lon evt_lat evt_lon ，输出为 Delta Baz Az 。 $ distaz 10 14 40 50 43.731 40.781 236.882 修订历史 2013-07-03：初稿； 2014-07-06：加入了对 distaz 的用法的说明；删除了CPS330的部分； 2014-10-28：新增matlab版本；","loc":"http://rpoor.com/calculate-dist-az-baz.html","title":"震中距、方位角和反方位角的计算","tags":"地震学软件"},{"text":"引言 地震仪观测到的地面运动记录可以表示为 \\begin{equation*} u(t)=s(t)*g(t)*i(t) \\end{equation*} 其中 \\(s(t)\\) 代表震源项， \\(g(t)\\) 代表路径效应， \\(i(t)\\) 代表仪器响应，星号代表卷积。 翻译成中文就是 地面运动记录是震源项、路径项以及仪器响应三者卷积得到的。 四个量中： \\(u(t)\\) 是仪器记录的结果，已知； \\(i(t)\\) 在仪器设计的时候会给出各种参数，已知； \\(s(t)\\) 为震源项，包括震源机制、震源时间函数等，未知； \\(g(t)\\) 为地球内部结构，未知。 震源和结构是地震学研究的两个主要内容。因而理解仪器响应 \\(i(t)\\) 的基本原理并准确地去除仪器响应是研究的关键一步。这篇博文将介绍一下原始地面运动 \\(s(t)*g(t)\\) 是如何卷积上仪器响应 \\(i(t)\\) 从而变成地震记录 \\(u(t)\\) 的。 原始地面运动 有很多因素可以导致地面发生运动，比如地震波、长周期潮汐波、背景噪声，因而实际的地面运动是很复杂的。下图给出了COLA台站记录到的持续时间为22000s左右的地面原始运动记录，即 \\(s(t)*g(t)\\) 所对应的波形： 图 1：原始地面运动；横轴代表时间，纵轴代表振幅。 整个地面运动最明显的地方是弯弯曲曲类似正弦的波形，其周期大概在6000s，也就是两个小时，这是潮汐波引起的地面运动 [*] 。波形的最大振幅大概是 \\(2\\times10&#94;7\\) 。在1000s左右有一个明显的振动信号，这是一个震级为Mw8.3级的大地震的信号，其振幅大概在 \\(2\\times10&#94;6\\) 的量级，比长周期波小了一个量级。 这就是真实的地面运动，即便是如此大的地震，其引起的地面运动相对来说也是很小的。这样的记录因为有太多其它类型的地面运动的干扰，因而对于地震学来说是没有用处的，所以就需要设计合适的仪器尽量去除其它类型地面运动的干扰，也就是地震仪。 仪器响应 从信号处理的角度来看，仪器本质上就是一个滤波器。每个仪器在出厂时都会提供准确的响应参数，但随着仪器的使用，可能会出现老化或其它偏差，因而仪器的实际响应参数需要定期测定、修改。 图1中的波形中包含了地震波、潮汐波以及背景噪声的信息，因而从低频到高频都有信号。而低频的潮汐波能量太强，正所谓功高盖主，压制一下还是有必要的。常见的地震仪是一个带通滤波器，可以有效压制超高频和超低频的信息。下图 [†] 给出了该台站的仪器响应，即 \\(i(t)\\) ： 图2：仪器响应频谱图。横轴为频率，上图为振幅谱，下图为相位谱。 从图2中振幅谱可以看出，频率在0.02Hz到8Hz内的信号具有相同的振幅增益（被增强），而小于0.02Hz、大于8Hz的信号则被压制。图1中的周期为1000s量级的信号被压制到了原来的千分之一。 地震仪的真实记录 图1中的原始地面运动 \\(s(t)*g(t)\\) 在经过图2中的仪器响应 \\(i(t)\\) 处理之后，即得到下图。超低频和超高频的信号被压制，留下地震学感兴趣的频段，也就是前面说的 \\(u(t)\\) ： 图 3：COLA台站的地震记录 与图1相比，长周期的正弦信号没了，地震信号被凸显出来了，最大振幅约为 \\(2.4\\times10&#94;6\\) 。在0-300s内，\"地面\"很安静，300s左右，强烈的地震信号开始出现，持续了很长一段时间后，又恢复了平静。这里可以很明显地看到\"平静-震动-平静\"的过程。这才是地震数据处理理想的波形。 小结 原始的地面运动 \\(s(t)*g(t)\\) （图1）中包含了震源以及介质的信息，当地面运动被仪器感知到之后，地面运动会卷积上仪器响应 \\(i(t)\\) （图2）,最终得到地震仪的输出 \\(u(t)\\) （图3）。 实际在使用地震数据的时候，我们直接从seed文件中解压得到的是类似图3的波形。由于不同台站的仪器响应可能不同，比如有长周期、短周期、宽频带等等。为了使得波形数据具有可比性，所有台站需要将各自的仪器响应去除（有时候需要将所有台站再卷积上某个特定的仪器响应）。 去仪器响应一般使用SAC的 transfer 命令，形式为 transfer from xxx to none 。显然，直接从地震仪的真实记录 \\(u(t)\\) 中去除仪器响应 \\(i(t)\\) 之后得到的图1（ \\(s(t)*g(t)\\) ）对用户来说是很糟糕的，毕竟潮汐波所在的周期不是我们地震学所关注的。所以在使用 transfer 命令时通常指定 freq 选项，给定一个地震学所关注的频率段，形如 transfer from xxx to none freq 0.05 0.1 10.0 15.0 。在去仪器响应时，应尽量选择一个较宽的频段，在后期数据处理时可以使用 bandpass 命令进行更窄的滤波。 最终得到的地震图如下： 图4：理想的地震图，由原始数据经过transfer之后得到。 备注 现实情况下，是很难获取地面的原始运动情况的。图1所谓的地面原始记录是通过地震记录图3直接去仪器响应得到的。说图1是地面原始记录只是为了帮助理解，实际上其应该不是真正的地面运动，而是 仪器所能感知到 的地面运动。 一般transfer的时候freq选项都会给一个很宽的频带，在后期处理数据的时候可能需要不断的调整滤波频段范围，所以把transfer之后的结果做一个备份是很重要的。 脚注 [*] 不确定是不是潮汐波，重力学没好好学，也许是地球自由震荡。不管怎样，至少是周期很长的某波，地震学里一般不太关心。 [†] 该图利用 JPlotResp 根据COLA台站的RESP仪器响应文件生成。 修订历史 2013-06-23：初稿； 2013-07-05：修改了备注中关于\"地面原始运动记录\"的说明； 2014-02-17：修订了一些语句； 2014-07-06：修订了一些描述；","loc":"http://rpoor.com/instrumental-response-in-seismology.html","title":"地震学的仪器响应","tags":"地震学基础"},{"text":"Hello World！欢迎来到SeisMan的个人独立博客。 本博客主要关注地震学的基础知识、地震学相关软件以及一些编程语言与工具。 本博客使用基于 Python 的 Pelican 作为静态博客生成器，主题为 Elegant ，源文件使用 reStructuredText 作为标记语言。博客源文件托管在 GitHub 上，生成的网页文件同时托管在 GitHub （供国外用户访问）以及 GitCafe （供国内用户访问）。在此一并对这些开源且免费的服务表示感谢。 首次访问本博客的读者可能对于博客以及博主的一些信息感兴趣，这些可以在\" About \"页面中看到，其中还包含了博客的原则、版权以及联系方式。 如果觉得本博客的内容对你有用，可以进入\" Donations \"页面，通过多种方式捐赠本博客。 欢迎继续关注和支持SeisMan博客。","loc":"http://rpoor.com/hello-world.html","title":"Hello World!","tags":"胡言乱语"}]}